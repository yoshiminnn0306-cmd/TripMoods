<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TripMoods - Ê∞óÂàÜ„ÅßÈÅ∏„Å∂ÊóÖË°å„Ç¢„Éó„É™</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .brand-color {
            background-color: #FFAF0F;
        }
        .brand-text {
            color: #FFAF0F;
        }
        .brand-border {
            border-color: #FFAF0F;
        }
        .brand-bg-light {
            background-color: #FFF4E0;
        }
        .hover-scale:hover {
            transform: scale(1.05);
        }
        .transition-all {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-amber-50 via-white to-orange-50">
    <div id="app"></div>

    <script>
        const state = {
            step: 'input',
            formData: {
                dates: '',
                budget: '',
                mood: '',
                location: ''
            },
            isGenerating: false
        };

        const prefectures = [
            'ÂåóÊµ∑ÈÅì', 'ÈùíÊ£ÆÁúå', 'Â≤©ÊâãÁúå', 'ÂÆÆÂüéÁúå', 'ÁßãÁî∞Áúå', 'Â±±ÂΩ¢Áúå', 'Á¶èÂ≥∂Áúå',
            'Ëå®ÂüéÁúå', 'Ê†ÉÊú®Áúå', 'Áæ§È¶¨Áúå', 'ÂüºÁéâÁúå', 'ÂçÉËëâÁúå', 'Êù±‰∫¨ÈÉΩ', 'Á•ûÂ•àÂ∑ùÁúå',
            'Êñ∞ÊΩüÁúå', 'ÂØåÂ±±Áúå', 'Áü≥Â∑ùÁúå', 'Á¶è‰∫ïÁúå', 'Â±±Ê¢®Áúå', 'Èï∑ÈáéÁúå',
            'Â≤êÈòúÁúå', 'ÈùôÂ≤°Áúå', 'ÊÑõÁü•Áúå', '‰∏âÈáçÁúå',
            'ÊªãË≥ÄÁúå', '‰∫¨ÈÉΩÂ∫ú', 'Â§ßÈò™Â∫ú', 'ÂÖµÂ∫´Áúå', 'Â•àËâØÁúå', 'ÂíåÊ≠åÂ±±Áúå',
            'È≥•ÂèñÁúå', 'Â≥∂Ê†πÁúå', 'Â≤°Â±±Áúå', 'Â∫ÉÂ≥∂Áúå', 'Â±±Âè£Áúå',
            'Âæ≥Â≥∂Áúå', 'È¶ôÂ∑ùÁúå', 'ÊÑõÂ™õÁúå', 'È´òÁü•Áúå',
            'Á¶èÂ≤°Áúå', '‰ΩêË≥ÄÁúå', 'Èï∑Â¥éÁúå', 'ÁÜäÊú¨Áúå', 'Â§ßÂàÜÁúå', 'ÂÆÆÂ¥éÁúå', 'ÈπøÂÖêÂ≥∂Áúå', 'Ê≤ñÁ∏ÑÁúå'
        ];

        const moods = [
            { id: 'relax', label: '„ÅÆ„Çì„Å≥„Çä„É™„É©„ÉÉ„ÇØ„Çπ', icon: 'üåø', color: 'bg-green-50' },
            { id: 'adventure', label: 'ÂÜíÈô∫„Éª„Ç¢„ÇØ„ÉÜ„Ç£„Éñ', icon: '‚õ∞Ô∏è', color: 'bg-blue-50' },
            { id: 'gourmet', label: '„Ç∞„É´„É°‰∏âÊòß', icon: 'üç±', color: 'bg-red-50' },
            { id: 'culture', label: 'ÊñáÂåñ„ÉªËä∏Ë°ì', icon: 'üé®', color: 'bg-purple-50' },
            { id: 'nature', label: 'Ëá™ÁÑ∂„Å®Ëß¶„ÇåÂêà„ÅÜ', icon: 'üå∏', color: 'bg-pink-50' },
            { id: 'luxury', label: 'Ë¥ÖÊ≤¢„Å™ÊôÇÈñì', icon: '‚ú®', color: 'bg-yellow-50' },
        ];

        const budgetOptions = [
            { id: 'low', label: '„Äú3‰∏áÂÜÜ', range: '¬•10,000-30,000' },
            { id: 'medium', label: '3„Äú7‰∏áÂÜÜ', range: '¬•30,000-70,000' },
            { id: 'high', label: '7„Äú15‰∏áÂÜÜ', range: '¬•70,000-150,000' },
            { id: 'luxury', label: '15‰∏áÂÜÜ„Äú', range: '¬•150,000+' },
        ];

        const recommendations = {
            relax: {
                destination: 'ÁÆ±Ê†πÊ∏©Ê≥â',
                prefecture: 'Á•ûÂ•àÂ∑ùÁúå',
                description: 'Ëá™ÁÑ∂„Å´Âõ≤„Åæ„Çå„ÅüÊ∏©Ê≥âÈÉ∑„ÅßÂøÉË∫´„Å®„ÇÇ„Å´„É™„Éï„É¨„ÉÉ„Ç∑„É•',
                hotel: {
                    name: 'ÁÆ±Ê†πÂêüÈÅä',
                    rating: 4.8,
                    price: '¬•45,000„Äú',
                    features: ['Èú≤Â§©È¢®ÂëÇ‰ªò„ÅçÂÆ¢ÂÆ§', 'ÊáêÁü≥ÊñôÁêÜ', 'Ëä¶„ÉéÊπñ„Éì„É•„Éº']
                },
                restaurants: [
                    { name: '„Åô„ÅóÂá¶ Â§ßÂä©', type: 'ÂØøÂè∏', rating: 4.6, price: '¬•8,000' },
                    { name: 'Â±±„ÅÆ„Éõ„ÉÜ„É´„ÉÄ„Ç§„Éã„É≥„Ç∞„É´„Éº„É†', type: '„Éï„É¨„É≥„ÉÅ', rating: 4.7, price: '¬•12,000' }
                ],
                activities: ['Ëä¶„ÉéÊπñÈÅäË¶ßËàπ', 'ÁÆ±Ê†πÁ•ûÁ§æÂèÇÊãù', 'Ê∏©Ê≥âÂ∑°„Çä'],
                season: 'Á¥ÖËëâ„Ç∑„Éº„Ç∫„É≥„ÅØÁâπ„Å´„Åä„Åô„Åô„ÇÅ',
                trendScore: 94
            },
            adventure: {
                destination: 'ÂØåÂ£´Â±±„ÉªÊ≤≥Âè£Êπñ',
                prefecture: 'Â±±Ê¢®Áúå',
                description: '„Ç¢„ÇØ„ÉÜ„Ç£„Éì„ÉÜ„Ç£Ê∫ÄËºâÔºÅÂØåÂ£´Â±±„ÇíÁú∫„ÇÅ„Å™„Åå„Çâ„Ç¢„Ç¶„Éà„Éâ„Ç¢‰ΩìÈ®ì',
                hotel: {
                    name: 'PICAÂØåÂ£´ÂêâÁî∞',
                    rating: 4.5,
                    price: '¬•18,000„Äú',
                    features: ['„Ç∞„É©„É≥„Éî„É≥„Ç∞', 'BBQÊñΩË®≠', 'ÂØåÂ£´Â±±„Éì„É•„Éº']
                },
                restaurants: [
                    { name: '„Åª„ÅÜ„Å®„ÅÜ‰∏çÂãï', type: '„Åª„ÅÜ„Å®„ÅÜ', rating: 4.4, price: '¬•1,500' },
                    { name: '„É¨„Çπ„Éà„É©„É≥ „É©„Éª„É°„Éº„É´', type: '„Éï„É¨„É≥„ÉÅ', rating: 4.6, price: '¬•6,000' }
                ],
                activities: ['ÂØåÂ£´ÁôªÂ±±', '„Ç´„É§„ÉÉ„ÇØ‰ΩìÈ®ì', '„Çµ„Ç§„ÇØ„É™„É≥„Ç∞'],
                season: 'Â§èÂ≠£„ÅØÁâπ„Å´‰∫∫Ê∞ó',
                trendScore: 91
            },
            gourmet: {
                destination: 'ÈáëÊ≤¢',
                prefecture: 'Áü≥Â∑ùÁúå',
                description: 'Êó•Êú¨Êµ∑„ÅÆÊñ∞ÈÆÆ„Å™Êµ∑„ÅÆÂπ∏„Å®‰ºùÁµ±„ÅÆÂä†Ë≥ÄÊñôÁêÜ„ÇíÂ†™ËÉΩ',
                hotel: {
                    name: 'ÈáëÊ≤¢Ëå∂Â±ã',
                    rating: 4.9,
                    price: '¬•38,000„Äú',
                    features: ['Âä†Ë≥ÄÊñôÁêÜ', '‰ºùÁµ±Âª∫ÁØâ', 'ÈáëÁÆî‰ΩìÈ®ì']
                },
                restaurants: [
                    { name: '„Åô„ÅóÂá¶ „ÇÅ„Åè„Åø', type: 'ÂØøÂè∏', rating: 4.8, price: '¬•15,000' },
                    { name: 'Âä†Ë≥ÄÊñôÁêÜ „Å§„Å∞Áîö', type: 'Âä†Ë≥ÄÊñôÁêÜ', rating: 4.7, price: '¬•12,000' }
                ],
                activities: ['ËøëÊ±üÁî∫Â∏ÇÂ†¥Êï£Á≠ñ', 'ÈáëÁÆî„ÇΩ„Éï„Éà', 'ÂíåËèìÂ≠ê‰Ωú„Çä‰ΩìÈ®ì'],
                season: 'ÂÜ¨„ÅØ„Ç´„Éã„ÅåÁµ∂ÂìÅ',
                trendScore: 96
            },
            culture: {
                destination: '‰∫¨ÈÉΩ',
                prefecture: '‰∫¨ÈÉΩÂ∫ú',
                description: 'ÂçÉÂπ¥„ÅÆÂè§ÈÉΩ„ÅßÊó•Êú¨„ÅÆ‰ºùÁµ±ÊñáÂåñ„Çí‰ΩìÊÑü',
                hotel: {
                    name: '‰∫¨ÈÉΩ Áø†Âµê',
                    rating: 4.9,
                    price: '¬•55,000„Äú',
                    features: ['Â∫≠Âúí„Éì„É•„Éº', '‰∫¨ÊáêÁü≥', 'ÂµêÂ±±„ÅÆÁ´πÊûó']
                },
                restaurants: [
                    { name: 'Ëèä‰πÉ‰∫ï', type: '‰∫¨ÊñôÁêÜ', rating: 4.9, price: '¬•20,000' },
                    { name: 'Á•áÂúí „Åï„ÇùÊú®', type: 'Ââ≤ÁÉπ', rating: 4.8, price: '¬•15,000' }
                ],
                activities: ['ÈáëÈñ£ÂØ∫ÂèÇÊãù', 'Ëå∂ÈÅì‰ΩìÈ®ì', 'ÁùÄÁâ©„É¨„É≥„Çø„É´'],
                season: 'Êò•„ÅÆÊ°ú„ÉªÁßã„ÅÆÁ¥ÖËëâ„ÅåÁµ∂ÊôØ',
                trendScore: 98
            },
            nature: {
                destination: 'Â±ã‰πÖÂ≥∂',
                prefecture: 'ÈπøÂÖêÂ≥∂Áúå',
                description: '‰∏ñÁïåËá™ÁÑ∂ÈÅ∫Áî£„ÅßÁ•ûÁßò„ÅÆÊ£ÆÊûóÊµ¥„Çí‰ΩìÈ®ì',
                hotel: {
                    name: '„Çµ„É≥„Ç´„É©„Éõ„ÉÜ„É´',
                    rating: 4.7,
                    price: '¬•42,000„Äú',
                    features: ['„Ç™„Éº„Ç∑„É£„É≥„Éì„É•„Éº', '„Çπ„Éë', 'Ëá™ÁÑ∂Á¥†ÊùêÊñôÁêÜ']
                },
                restaurants: [
                    { name: 'ÊΩÆÈ®í', type: 'Êµ∑ÈÆÆÊñôÁêÜ', rating: 4.5, price: '¬•5,000' },
                    { name: 'Â≥∂ÊñôÁêÜ „ÅÇ„Çâ„Åç', type: 'ÈÉ∑ÂúüÊñôÁêÜ', rating: 4.6, price: '¬•4,000' }
                ],
                activities: ['Á∏ÑÊñáÊùâ„Éà„É¨„ÉÉ„Ç≠„É≥„Ç∞', '„Ç¶„Éü„Ç¨„É°Ë¶≥ÂØü', '„Ç´„É§„ÉÉ„ÇØ'],
                season: '5-6Êúà„ÅØÊñ∞Á∑ë„ÅåÁæé„Åó„ÅÑ',
                trendScore: 89
            },
            luxury: {
                destination: 'ËªΩ‰∫ïÊ≤¢',
                prefecture: 'Èï∑ÈáéÁúå',
                description: '‰∏äË≥™„Å™„É™„Çæ„Éº„Éà„ÅßË¥ÖÊ≤¢„Å™„Å≤„Å®„Å®„Åç„Çí',
                hotel: {
                    name: '„Éõ„Ç∑„Éé„É™„Çæ„Éº„Éà ËªΩ‰∫ïÊ≤¢',
                    rating: 4.9,
                    price: '¬•65,000„Äú',
                    features: ['Ê∏©Ê≥â', '„Éü„Ç∑„É•„É©„É≥Êòü‰ªò„Åç„É¨„Çπ„Éà„É©„É≥', '„Çπ„Éë']
                },
                restaurants: [
                    { name: '„Éñ„É¨„Çπ„Éà„É≥„Ç≥„Éº„Éà „É¶„Ç´„ÉØ„Çø„É≥', type: '„Éï„É¨„É≥„ÉÅ', rating: 4.9, price: '¬•25,000' },
                    { name: 'ÊùëÊ∞ëÈ£üÂ†Ç', type: '„Ç§„Çø„É™„Ç¢„É≥', rating: 4.7, price: '¬•8,000' }
                ],
                activities: ['„Ç∑„Éß„ÉÉ„Éî„É≥„Ç∞', '„Ç¥„É´„Éï', 'ÁæéË°ìÈ§®Â∑°„Çä'],
                season: 'ÈÅøÊöëÂú∞„Å®„Åó„Å¶Â§è„Åå‰∫∫Ê∞ó',
                trendScore: 95
            }
        };

        function calculateDistance(from) {
            const distances = {
                'Êù±‰∫¨ÈÉΩ': { 'ÁÆ±Ê†πÊ∏©Ê≥â': 90, 'ÂØåÂ£´Â±±„ÉªÊ≤≥Âè£Êπñ': 120, 'ÈáëÊ≤¢': 450, '‰∫¨ÈÉΩ': 470, 'Â±ã‰πÖÂ≥∂': 1450, 'ËªΩ‰∫ïÊ≤¢': 150 },
                'Á•ûÂ•àÂ∑ùÁúå': { 'ÁÆ±Ê†πÊ∏©Ê≥â': 60, 'ÂØåÂ£´Â±±„ÉªÊ≤≥Âè£Êπñ': 100, 'ÈáëÊ≤¢': 480, '‰∫¨ÈÉΩ': 500, 'Â±ã‰πÖÂ≥∂': 1480, 'ËªΩ‰∫ïÊ≤¢': 180 },
                'Â§ßÈò™Â∫ú': { 'ÁÆ±Ê†πÊ∏©Ê≥â': 480, 'ÂØåÂ£´Â±±„ÉªÊ≤≥Âè£Êπñ': 500, 'ÈáëÊ≤¢': 280, '‰∫¨ÈÉΩ': 50, 'Â±ã‰πÖÂ≥∂': 900, 'ËªΩ‰∫ïÊ≤¢': 520 },
                'ÊÑõÁü•Áúå': { 'ÁÆ±Ê†πÊ∏©Ê≥â': 350, 'ÂØåÂ£´Â±±„ÉªÊ≤≥Âè£Êπñ': 320, 'ÈáëÊ≤¢': 220, '‰∫¨ÈÉΩ': 180, 'Â±ã‰πÖÂ≥∂': 1100, 'ËªΩ‰∫ïÊ≤¢': 320 },
                'ÂåóÊµ∑ÈÅì': { 'ÁÆ±Ê†πÊ∏©Ê≥â': 1100, 'ÂØåÂ£´Â±±„ÉªÊ≤≥Âè£Êπñ': 1150, 'ÈáëÊ≤¢': 1050, '‰∫¨ÈÉΩ': 1200, 'Â±ã‰πÖÂ≥∂': 2300, 'ËªΩ‰∫ïÊ≤¢': 1050 },
                'Á¶èÂ≤°Áúå': { 'ÁÆ±Ê†πÊ∏©Ê≥â': 1050, 'ÂØåÂ£´Â±±„ÉªÊ≤≥Âè£Êπñ': 1100, 'ÈáëÊ≤¢': 750, '‰∫¨ÈÉΩ': 550, 'Â±ã‰πÖÂ≥∂': 650, 'ËªΩ‰∫ïÊ≤¢': 1150 },
            };
            return distances[from] || { 'ÁÆ±Ê†πÊ∏©Ê≥â': 300, 'ÂØåÂ£´Â±±„ÉªÊ≤≥Âè£Êπñ': 350, 'ÈáëÊ≤¢': 400, '‰∫¨ÈÉΩ': 450, 'Â±ã‰πÖÂ≥∂': 1200, 'ËªΩ‰∫ïÊ≤¢': 300 };
        }

        function updateFormData(key, value) {
            state.formData[key] = value;
            render();
        }

        function handleGenerate() {
            state.isGenerating = true;
            render();
            setTimeout(() => {
                state.isGenerating = false;
                state.step = 'result';
                render();
            }, 2500);
        }

        function resetApp() {
            state.step = 'input';
            render();
        }

        function renderInputPage() {
            const isFormValid = state.formData.dates && state.formData.budget && state.formData.mood && state.formData.location;
            
            return `
                <header class="bg-white shadow-sm">
                    <div class="max-w-4xl mx-auto px-6 py-6">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full flex items-center justify-center brand-color">
                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                            </div>
                            <div>
                                <h1 class="text-2xl font-bold text-gray-900">TripMoods</h1>
                                <p class="text-sm text-gray-500">„Å©„ÅìË°å„ÅèÔºü„Åò„ÇÉ„Å™„Åè„Å¶„ÄÅ„Å©„Çì„Å™Ê∞óÂàÜÔºü</p>
                            </div>
                        </div>
                    </div>
                </header>

                <div class="max-w-4xl mx-auto px-6 py-12">
                    <div class="text-center mb-12">
                        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full mb-6 brand-bg-light">
                            <svg class="w-4 h-4 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
                            <span class="text-sm font-medium brand-text">AI„ÅåÊúÄÈÅ©„Å™ÊóÖÂÖà„ÇíÊèêÊ°à</span>
                        </div>
                        <h2 class="text-4xl font-bold text-gray-900 mb-4">
                            ‰ªä„ÅÆÊ∞óÂàÜ„Åã„Çâ„ÄÅ<br />
                            „ÅÇ„Å™„Åü„Å†„Åë„ÅÆÊóÖ„ÇíË¶ã„Å§„Åë„Çà„ÅÜ
                        </h2>
                        <p class="text-gray-600 text-lg">
                            Êó•Á®ã„Éª‰∫àÁÆó„ÉªÊ∞óÂàÜ„ÇíÂÖ•Âäõ„Åô„Çã„Å†„Åë„Åß„ÄÅAI„ÅåSNS„ÇÑÂè£„Ç≥„Éü„Çí„ÇÇ„Å®„Å´<br />
                            „Å¥„Å£„Åü„Çä„ÅÆÊóÖÂÖà„Çí„É¨„Ç≥„É°„É≥„Éâ„Åó„Åæ„Åô
                        </p>
                    </div>

                    <div class="bg-white rounded-3xl shadow-xl p-8 mb-8">
                        <div class="mb-8">
                            <label class="flex items-center gap-2 text-gray-700 font-semibold mb-4">
                                <svg class="w-5 h-5 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                                ÊóÖË°å„ÅÆÊó•Á®ã
                            </label>
                            <input
                                type="text"
                                placeholder="‰æãÔºö2025Âπ¥11Êúà15Êó•„Äú17Êó•Ôºà2Ê≥ä3Êó•Ôºâ"
                                value="${state.formData.dates}"
                                oninput="updateFormData('dates', this.value)"
                                class="w-full px-6 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-amber-400 transition-colors text-lg"
                            />
                        </div>

                        <div class="mb-8">
                            <label class="flex items-center gap-2 text-gray-700 font-semibold mb-4">
                                <svg class="w-5 h-5 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                </svg>
                                Âá∫Áô∫Âú∞ÔºàÁèæÂú®Âú∞Ôºâ
                            </label>
                            <select
                                onchange="updateFormData('location', this.value)"
                                class="w-full px-6 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-amber-400 transition-colors text-lg bg-white"
                            >
                                <option value="">ÈÉΩÈÅìÂ∫úÁúå„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                                ${prefectures.map(pref => `<option value="${pref}" ${state.formData.location === pref ? 'selected' : ''}>${pref}</option>`).join('')}
                            </select>
                        </div>

                        <div class="mb-8">
                            <label class="flex items-center gap-2 text-gray-700 font-semibold mb-4">
                                <svg class="w-5 h-5 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
                                </svg>
                                ‰∫àÁÆóÔºà1‰∫∫„ÅÇ„Åü„ÇäÔºâ
                            </label>
                            <div class="grid grid-cols-2 gap-3">
                                ${budgetOptions.map(option => `
                                    <button
                                        onclick="updateFormData('budget', '${option.id}')"
                                        class="p-4 rounded-xl border-2 transition-all ${state.formData.budget === option.id ? 'brand-border bg-amber-50' : 'border-gray-200 hover:border-gray-300'}"
                                    >
                                        <div class="font-semibold text-gray-900">${option.label}</div>
                                        <div class="text-sm text-gray-500">${option.range}</div>
                                    </button>
                                `).join('')}
                            </div>
                        </div>

                        <div class="mb-8">
                            <label class="flex items-center gap-2 text-gray-700 font-semibold mb-4">
                                <svg class="w-5 h-5 brand-text" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                ‰ªä„ÅÆÊ∞óÂàÜ„ÅØÔºü
                            </label>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                                ${moods.map(mood => `
                                    <button
                                        onclick="updateFormData('mood', '${mood.id}')"
                                        class="p-4 rounded-xl border-2 transition-all hover-scale ${state.formData.mood === mood.id ? 'brand-border bg-amber-50' : 'border-gray-200 hover:border-gray-300'} ${mood.color}"
                                    >
                                        <div class="text-3xl mb-2">${mood.icon}</div>
                                        <div class="font-medium text-gray-900 text-sm">${mood.label}</div>
                                    </button>
                                `).join('')}
                            </div>
                        </div>

                        <button
                            onclick="handleGenerate()"
                            ${!isFormValid ? 'disabled' : ''}
                            class="w-full py-5 rounded-xl font-bold text-white text-lg shadow-lg hover:shadow-xl transition-all ${!isFormValid ? 'opacity-50 cursor-not-allowed' : ''} brand-color flex items-center justify-center gap-2"
                        >
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
                            AI„Å´ÊúÄÈÅ©„Å™ÊóÖÂÖà„ÇíÊèêÊ°à„Åó„Å¶„ÇÇ„Çâ„ÅÜ
                        </button>
                    </div>

                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="text-center p-6">
                            <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center brand-bg-light">
                                <svg class="w-6 h-6 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-gray-900 mb-2">SNS„ÉªÂè£„Ç≥„ÉüÂàÜÊûê</h3>
                            <p class="text-sm text-gray-600">ÊúÄÊñ∞„ÅÆ„Éà„É¨„É≥„Éâ„Å®ÂÆüÈöõ„ÅÆË©ï‰æ°„ÇíAI„ÅåÂàÜÊûê</p>
                        </div>
                        <div class="text-center p-6">
                            <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center brand-bg-light">
                                <svg class="w-6 h-6 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-gray-900 mb-2">Â≠£ÁØÄ„Å´Âøú„Åò„ÅüÊèêÊ°à</h3>
                            <p class="text-sm text-gray-600">ÊóÖË°åÊôÇÊúü„Å´ÊúÄÈÅ©„Å™„Çπ„Éù„ÉÉ„Éà„ÇíÂé≥ÈÅ∏</p>
                        </div>
                        <div class="text-center p-6">
                            <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center brand-bg-light">
                                <svg class="w-6 h-6 brand-text" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-gray-900 mb-2">Ê∞óÂàÜ„Éû„ÉÉ„ÉÅ„É≥„Ç∞</h3>
                            <p class="text-sm text-gray-600">„ÅÇ„Å™„Åü„ÅÆÊ∞óÂàÜ„Å´„Å¥„Å£„Åü„Çä„ÅÆÊóÖÂÖà„ÇíÁô∫Ë¶ã</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderLoadingPage() {
            return `
                <div class="min-h-screen flex items-center justify-center">
                    <div class="text-center">
                        <div class="w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center animate-pulse brand-color">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">AI„ÅåÊóÖÂÖà„ÇíÂàÜÊûê‰∏≠...</h2>
                        <p class="text-gray-600">SNS„ÉªÂè£„Ç≥„Éü„ÉªÂ≠£ÁØÄ„Éá„Éº„Çø„ÇíËß£Êûê„Åó„Å¶„ÅÑ„Åæ„Åô</p>
                    </div>
                </div>
            `;
        }

        function renderResultPage() {
            const currentRec = recommendations[state.formData.mood] || recommendations.relax;
            const distance = calculateDistance(state.formData.location)[currentRec.destination];
            const travelTime = Math.round(distance / 60);

            return `
                <header class="bg-white shadow-sm">
                    <div class="max-w-5xl mx-auto px-6 py-6">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 rounded-full flex items-center justify-center brand-color">
                                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                    </svg>
                                </div>
                                <div>
                                    <h1 class="text-2xl font-bold text-gray-900">TripMoods</h1>
                                </div>
                            </div>
                            <button
                                onclick="resetApp()"
                                class="px-6 py-2 rounded-lg font-medium text-white brand-color"
                            >
                                Âà•„ÅÆÊóÖÂÖà„ÇíÊé¢„Åô
                            </button>
                        </div>
                    </div>
                </header>

                <div class="max-w-5xl mx-auto px-6 py-12">
                    <div class="text-center mb-8">
                        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full mb-4 brand-bg-light">
                            <svg class="w-4 h-4 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
