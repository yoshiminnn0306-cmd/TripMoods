<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TripMoods - æ°—åˆ†ã§é¸ã¶æ—…è¡Œã‚¢ãƒ—ãƒª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .brand-color {
            background-color: #FFAF0F;
        }
        .brand-text {
            color: #FFAF0F;
        }
        .brand-border {
            border-color: #FFAF0F;
        }
        .brand-bg-light {
            background-color: #FFF4E0;
        }
        .hover-scale:hover {
            transform: scale(1.05);
        }
        .transition-all {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-amber-50 via-white to-orange-50">
    <div id="app"></div>

    <script>
        const state = {
            step: 'input',
            formData: {
                dates: '',
                budget: '',
                mood: '',
                location: ''
            },
            isGenerating: false
        };

        const prefectures = [
            'åŒ—æµ·é“', 'é’æ£®çœŒ', 'å²©æ‰‹çœŒ', 'å®®åŸçœŒ', 'ç§‹ç”°çœŒ', 'å±±å½¢çœŒ', 'ç¦å³¶çœŒ',
            'èŒ¨åŸçœŒ', 'æ ƒæœ¨çœŒ', 'ç¾¤é¦¬çœŒ', 'åŸ¼ç‰çœŒ', 'åƒè‘‰çœŒ', 'æ±äº¬éƒ½', 'ç¥å¥ˆå·çœŒ',
            'æ–°æ½ŸçœŒ', 'å¯Œå±±çœŒ', 'çŸ³å·çœŒ', 'ç¦äº•çœŒ', 'å±±æ¢¨çœŒ', 'é•·é‡çœŒ',
            'å²é˜œçœŒ', 'é™å²¡çœŒ', 'æ„›çŸ¥çœŒ', 'ä¸‰é‡çœŒ',
            'æ»‹è³€çœŒ', 'äº¬éƒ½åºœ', 'å¤§é˜ªåºœ', 'å…µåº«çœŒ', 'å¥ˆè‰¯çœŒ', 'å’Œæ­Œå±±çœŒ',
            'é³¥å–çœŒ', 'å³¶æ ¹çœŒ', 'å²¡å±±çœŒ', 'åºƒå³¶çœŒ', 'å±±å£çœŒ',
            'å¾³å³¶çœŒ', 'é¦™å·çœŒ', 'æ„›åª›çœŒ', 'é«˜çŸ¥çœŒ',
            'ç¦å²¡çœŒ', 'ä½è³€çœŒ', 'é•·å´çœŒ', 'ç†Šæœ¬çœŒ', 'å¤§åˆ†çœŒ', 'å®®å´çœŒ', 'é¹¿å…å³¶çœŒ', 'æ²–ç¸„çœŒ'
        ];

        const moods = [
            { id: 'relax', label: 'ã®ã‚“ã³ã‚Šãƒªãƒ©ãƒƒã‚¯ã‚¹', icon: 'ğŸŒ¿', color: 'bg-green-50' },
            { id: 'adventure', label: 'å†’é™ºãƒ»ã‚¢ã‚¯ãƒ†ã‚£ãƒ–', icon: 'â›°ï¸', color: 'bg-blue-50' },
            { id: 'gourmet', label: 'ã‚°ãƒ«ãƒ¡ä¸‰æ˜§', icon: 'ğŸ±', color: 'bg-red-50' },
            { id: 'culture', label: 'æ–‡åŒ–ãƒ»èŠ¸è¡“', icon: 'ğŸ¨', color: 'bg-purple-50' },
            { id: 'nature', label: 'è‡ªç„¶ã¨è§¦ã‚Œåˆã†', icon: 'ğŸŒ¸', color: 'bg-pink-50' },
            { id: 'luxury', label: 'è´…æ²¢ãªæ™‚é–“', icon: 'âœ¨', color: 'bg-yellow-50' },
        ];

        const budgetOptions = [
            { id: 'low', label: 'ã€œ3ä¸‡å††', range: 'Â¥10,000-30,000' },
            { id: 'medium', label: '3ã€œ7ä¸‡å††', range: 'Â¥30,000-70,000' },
            { id: 'high', label: '7ã€œ15ä¸‡å††', range: 'Â¥70,000-150,000' },
            { id: 'luxury', label: '15ä¸‡å††ã€œ', range: 'Â¥150,000+' },
        ];

        const recommendations = {
            relax: {
                destination: 'ç®±æ ¹æ¸©æ³‰',
                prefecture: 'ç¥å¥ˆå·çœŒ',
                description: 'è‡ªç„¶ã«å›²ã¾ã‚ŒãŸæ¸©æ³‰éƒ·ã§å¿ƒèº«ã¨ã‚‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥',
                hotel: {
                    name: 'ç®±æ ¹åŸéŠ',
                    rating: 4.8,
                    price: 'Â¥45,000ã€œ',
                    features: ['éœ²å¤©é¢¨å‘‚ä»˜ãå®¢å®¤', 'æ‡çŸ³æ–™ç†', 'èŠ¦ãƒæ¹–ãƒ“ãƒ¥ãƒ¼']
                },
                restaurants: [
                    { name: 'ã™ã—å‡¦ å¤§åŠ©', type: 'å¯¿å¸', rating: 4.6, price: 'Â¥8,000' },
                    { name: 'å±±ã®ãƒ›ãƒ†ãƒ«ãƒ€ã‚¤ãƒ‹ãƒ³ã‚°ãƒ«ãƒ¼ãƒ ', type: 'ãƒ•ãƒ¬ãƒ³ãƒ', rating: 4.7, price: 'Â¥12,000' }
                ],
                activities: ['èŠ¦ãƒæ¹–éŠè¦§èˆ¹', 'ç®±æ ¹ç¥ç¤¾å‚æ‹', 'æ¸©æ³‰å·¡ã‚Š'],
                season: 'ç´…è‘‰ã‚·ãƒ¼ã‚ºãƒ³ã¯ç‰¹ã«ãŠã™ã™ã‚',
                trendScore: 94
            },
            adventure: {
                destination: 'å¯Œå£«å±±ãƒ»æ²³å£æ¹–',
                prefecture: 'å±±æ¢¨çœŒ',
                description: 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£æº€è¼‰ï¼å¯Œå£«å±±ã‚’çœºã‚ãªãŒã‚‰ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢ä½“é¨“',
                hotel: {
                    name: 'PICAå¯Œå£«å‰ç”°',
                    rating: 4.5,
                    price: 'Â¥18,000ã€œ',
                    features: ['ã‚°ãƒ©ãƒ³ãƒ”ãƒ³ã‚°', 'BBQæ–½è¨­', 'å¯Œå£«å±±ãƒ“ãƒ¥ãƒ¼']
                },
                restaurants: [
                    { name: 'ã»ã†ã¨ã†ä¸å‹•', type: 'ã»ã†ã¨ã†', rating: 4.4, price: 'Â¥1,500' },
                    { name: 'ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ ãƒ©ãƒ»ãƒ¡ãƒ¼ãƒ«', type: 'ãƒ•ãƒ¬ãƒ³ãƒ', rating: 4.6, price: 'Â¥6,000' }
                ],
                activities: ['å¯Œå£«ç™»å±±', 'ã‚«ãƒ¤ãƒƒã‚¯ä½“é¨“', 'ã‚µã‚¤ã‚¯ãƒªãƒ³ã‚°'],
                season: 'å¤å­£ã¯ç‰¹ã«äººæ°—',
                trendScore: 91
            },
            gourmet: {
                destination: 'é‡‘æ²¢',
                prefecture: 'çŸ³å·çœŒ',
                description: 'æ—¥æœ¬æµ·ã®æ–°é®®ãªæµ·ã®å¹¸ã¨ä¼çµ±ã®åŠ è³€æ–™ç†ã‚’å ªèƒ½',
                hotel: {
                    name: 'é‡‘æ²¢èŒ¶å±‹',
                    rating: 4.9,
                    price: 'Â¥38,000ã€œ',
                    features: ['åŠ è³€æ–™ç†', 'ä¼çµ±å»ºç¯‰', 'é‡‘ç®”ä½“é¨“']
                },
                restaurants: [
                    { name: 'ã™ã—å‡¦ ã‚ãã¿', type: 'å¯¿å¸', rating: 4.8, price: 'Â¥15,000' },
                    { name: 'åŠ è³€æ–™ç† ã¤ã°ç”š', type: 'åŠ è³€æ–™ç†', rating: 4.7, price: 'Â¥12,000' }
                ],
                activities: ['è¿‘æ±Ÿç”ºå¸‚å ´æ•£ç­–', 'é‡‘ç®”ã‚½ãƒ•ãƒˆ', 'å’Œè“å­ä½œã‚Šä½“é¨“'],
                season: 'å†¬ã¯ã‚«ãƒ‹ãŒçµ¶å“',
                trendScore: 96
            },
            culture: {
                destination: 'äº¬éƒ½',
                prefecture: 'äº¬éƒ½åºœ',
                description: 'åƒå¹´ã®å¤éƒ½ã§æ—¥æœ¬ã®ä¼çµ±æ–‡åŒ–ã‚’ä½“æ„Ÿ',
                hotel: {
                    name: 'äº¬éƒ½ ç¿ åµ',
                    rating: 4.9,
                    price: 'Â¥55,000ã€œ',
                    features: ['åº­åœ’ãƒ“ãƒ¥ãƒ¼', 'äº¬æ‡çŸ³', 'åµå±±ã®ç«¹æ—']
                },
                restaurants: [
                    { name: 'èŠä¹ƒäº•', type: 'äº¬æ–™ç†', rating: 4.9, price: 'Â¥20,000' },
                    { name: 'ç¥‡åœ’ ã•ã‚æœ¨', type: 'å‰²çƒ¹', rating: 4.8, price: 'Â¥15,000' }
                ],
                activities: ['é‡‘é–£å¯ºå‚æ‹', 'èŒ¶é“ä½“é¨“', 'ç€ç‰©ãƒ¬ãƒ³ã‚¿ãƒ«'],
                season: 'æ˜¥ã®æ¡œãƒ»ç§‹ã®ç´…è‘‰ãŒçµ¶æ™¯',
                trendScore: 98
            },
            nature: {
                destination: 'å±‹ä¹…å³¶',
                prefecture: 'é¹¿å…å³¶çœŒ',
                description: 'ä¸–ç•Œè‡ªç„¶éºç”£ã§ç¥ç§˜ã®æ£®æ—æµ´ã‚’ä½“é¨“',
                hotel: {
                    name: 'ã‚µãƒ³ã‚«ãƒ©ãƒ›ãƒ†ãƒ«',
                    rating: 4.7,
                    price: 'Â¥42,000ã€œ',
                    features: ['ã‚ªãƒ¼ã‚·ãƒ£ãƒ³ãƒ“ãƒ¥ãƒ¼', 'ã‚¹ãƒ‘', 'è‡ªç„¶ç´ ææ–™ç†']
                },
                restaurants: [
                    { name: 'æ½®é¨’', type: 'æµ·é®®æ–™ç†', rating: 4.5, price: 'Â¥5,000' },
                    { name: 'å³¶æ–™ç† ã‚ã‚‰ã', type: 'éƒ·åœŸæ–™ç†', rating: 4.6, price: 'Â¥4,000' }
                ],
                activities: ['ç¸„æ–‡æ‰ãƒˆãƒ¬ãƒƒã‚­ãƒ³ã‚°', 'ã‚¦ãƒŸã‚¬ãƒ¡è¦³å¯Ÿ', 'ã‚«ãƒ¤ãƒƒã‚¯'],
                season: '5-6æœˆã¯æ–°ç·‘ãŒç¾ã—ã„',
                trendScore: 89
            },
            luxury: {
                destination: 'è»½äº•æ²¢',
                prefecture: 'é•·é‡çœŒ',
                description: 'ä¸Šè³ªãªãƒªã‚¾ãƒ¼ãƒˆã§è´…æ²¢ãªã²ã¨ã¨ãã‚’',
                hotel: {
                    name: 'ãƒ›ã‚·ãƒãƒªã‚¾ãƒ¼ãƒˆ è»½äº•æ²¢',
                    rating: 4.9,
                    price: 'Â¥65,000ã€œ',
                    features: ['æ¸©æ³‰', 'ãƒŸã‚·ãƒ¥ãƒ©ãƒ³æ˜Ÿä»˜ããƒ¬ã‚¹ãƒˆãƒ©ãƒ³', 'ã‚¹ãƒ‘']
                },
                restaurants: [
                    { name: 'ãƒ–ãƒ¬ã‚¹ãƒˆãƒ³ã‚³ãƒ¼ãƒˆ ãƒ¦ã‚«ãƒ¯ã‚¿ãƒ³', type: 'ãƒ•ãƒ¬ãƒ³ãƒ', rating: 4.9, price: 'Â¥25,000' },
                    { name: 'æ‘æ°‘é£Ÿå ‚', type: 'ã‚¤ã‚¿ãƒªã‚¢ãƒ³', rating: 4.7, price: 'Â¥8,000' }
                ],
                activities: ['ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°', 'ã‚´ãƒ«ãƒ•', 'ç¾è¡“é¤¨å·¡ã‚Š'],
                season: 'é¿æš‘åœ°ã¨ã—ã¦å¤ãŒäººæ°—',
                trendScore: 95
            }
        };

        function calculateDistance(from) {
            const distances = {
                'æ±äº¬éƒ½': { 'ç®±æ ¹æ¸©æ³‰': 90, 'å¯Œå£«å±±ãƒ»æ²³å£æ¹–': 120, 'é‡‘æ²¢': 450, 'äº¬éƒ½': 470, 'å±‹ä¹…å³¶': 1450, 'è»½äº•æ²¢': 150 },
                'ç¥å¥ˆå·çœŒ': { 'ç®±æ ¹æ¸©æ³‰': 60, 'å¯Œå£«å±±ãƒ»æ²³å£æ¹–': 100, 'é‡‘æ²¢': 480, 'äº¬éƒ½': 500, 'å±‹ä¹…å³¶': 1480, 'è»½äº•æ²¢': 180 },
                'å¤§é˜ªåºœ': { 'ç®±æ ¹æ¸©æ³‰': 480, 'å¯Œå£«å±±ãƒ»æ²³å£æ¹–': 500, 'é‡‘æ²¢': 280, 'äº¬éƒ½': 50, 'å±‹ä¹…å³¶': 900, 'è»½äº•æ²¢': 520 },
                'æ„›çŸ¥çœŒ': { 'ç®±æ ¹æ¸©æ³‰': 350, 'å¯Œå£«å±±ãƒ»æ²³å£æ¹–': 320, 'é‡‘æ²¢': 220, 'äº¬éƒ½': 180, 'å±‹ä¹…å³¶': 1100, 'è»½äº•æ²¢': 320 },
                'åŒ—æµ·é“': { 'ç®±æ ¹æ¸©æ³‰': 1100, 'å¯Œå£«å±±ãƒ»æ²³å£æ¹–': 1150, 'é‡‘æ²¢': 1050, 'äº¬éƒ½': 1200, 'å±‹ä¹…å³¶': 2300, 'è»½äº•æ²¢': 1050 },
                'ç¦å²¡çœŒ': { 'ç®±æ ¹æ¸©æ³‰': 1050, 'å¯Œå£«å±±ãƒ»æ²³å£æ¹–': 1100, 'é‡‘æ²¢': 750, 'äº¬éƒ½': 550, 'å±‹ä¹…å³¶': 650, 'è»½äº•æ²¢': 1150 },
            };
            return distances[from] || { 'ç®±æ ¹æ¸©æ³‰': 300, 'å¯Œå£«å±±ãƒ»æ²³å£æ¹–': 350, 'é‡‘æ²¢': 400, 'äº¬éƒ½': 450, 'å±‹ä¹…å³¶': 1200, 'è»½äº•æ²¢': 300 };
        }

        function updateFormData(key, value) {
            state.formData[key] = value;
            render();
        }

        function handleGenerate() {
            state.isGenerating = true;
            render();
            setTimeout(() => {
                state.isGenerating = false;
                state.step = 'result';
                render();
            }, 2500);
        }

        function resetApp() {
            state.step = 'input';
            render();
        }

        function renderInputPage() {
            const isFormValid = state.formData.dates && state.formData.budget && state.formData.mood && state.formData.location;
            
            return `
                <header class="bg-white shadow-sm">
                    <div class="max-w-4xl mx-auto px-6 py-6">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full flex items-center justify-center brand-color">
                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                            </div>
                            <div>
                                <h1 class="text-2xl font-bold text-gray-900">TripMoods</h1>
                                <p class="text-sm text-gray-500">ã©ã“è¡Œãï¼Ÿã˜ã‚ƒãªãã¦ã€ã©ã‚“ãªæ°—åˆ†ï¼Ÿ</p>
                            </div>
                        </div>
                    </div>
                </header>

                <div class="max-w-4xl mx-auto px-6 py-12">
                    <div class="text-center mb-12">
                        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full mb-6 brand-bg-light">
                            <svg class="w-4 h-4 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
                            <span class="text-sm font-medium brand-text">AIãŒæœ€é©ãªæ—…å…ˆã‚’ææ¡ˆ</span>
                        </div>
                        <h2 class="text-4xl font-bold text-gray-900 mb-4">
                            ä»Šã®æ°—åˆ†ã‹ã‚‰ã€<br />
                            ã‚ãªãŸã ã‘ã®æ—…ã‚’è¦‹ã¤ã‘ã‚ˆã†
                        </h2>
                        <p class="text-gray-600 text-lg">
                            æ—¥ç¨‹ãƒ»äºˆç®—ãƒ»æ°—åˆ†ã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§ã€AIãŒSNSã‚„å£ã‚³ãƒŸã‚’ã‚‚ã¨ã«<br />
                            ã´ã£ãŸã‚Šã®æ—…å…ˆã‚’ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã—ã¾ã™
                        </p>
                    </div>

                    <div class="bg-white rounded-3xl shadow-xl p-8 mb-8">
                        <div class="mb-8">
                            <label class="flex items-center gap-2 text-gray-700 font-semibold mb-4">
                                <svg class="w-5 h-5 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                                æ—…è¡Œã®æ—¥ç¨‹
                            </label>
                            <input
                                type="text"
                                placeholder="ä¾‹ï¼š2025å¹´11æœˆ15æ—¥ã€œ17æ—¥ï¼ˆ2æ³Š3æ—¥ï¼‰"
                                value="${state.formData.dates}"
                                oninput="updateFormData('dates', this.value)"
                                class="w-full px-6 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-amber-400 transition-colors text-lg"
                            />
                        </div>

                        <div class="mb-8">
                            <label class="flex items-center gap-2 text-gray-700 font-semibold mb-4">
                                <svg class="w-5 h-5 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                </svg>
                                å‡ºç™ºåœ°ï¼ˆç¾åœ¨åœ°ï¼‰
                            </label>
                            <select
                                onchange="updateFormData('location', this.value)"
                                class="w-full px-6 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-amber-400 transition-colors text-lg bg-white"
                            >
                                <option value="">éƒ½é“åºœçœŒã‚’é¸æŠã—ã¦ãã ã•ã„</option>
                                ${prefectures.map(pref => `<option value="${pref}" ${state.formData.location === pref ? 'selected' : ''}>${pref}</option>`).join('')}
                            </select>
                        </div>

                        <div class="mb-8">
                            <label class="flex items-center gap-2 text-gray-700 font-semibold mb-4">
                                <svg class="w-5 h-5 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
                                </svg>
                                äºˆç®—ï¼ˆ1äººã‚ãŸã‚Šï¼‰
                            </label>
                            <div class="grid grid-cols-2 gap-3">
                                ${budgetOptions.map(option => `
                                    <button
                                        onclick="updateFormData('budget', '${option.id}')"
                                        class="p-4 rounded-xl border-2 transition-all ${state.formData.budget === option.id ? 'brand-border bg-amber-50' : 'border-gray-200 hover:border-gray-300'}"
                                    >
                                        <div class="font-semibold text-gray-900">${option.label}</div>
                                        <div class="text-sm text-gray-500">${option.range}</div>
                                    </button>
                                `).join('')}
                            </div>
                        </div>

                        <div class="mb-8">
                            <label class="flex items-center gap-2 text-gray-700 font-semibold mb-4">
                                <svg class="w-5 h-5 brand-text" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                ä»Šã®æ°—åˆ†ã¯ï¼Ÿ
                            </label>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                                ${moods.map(mood => `
                                    <button
                                        onclick="updateFormData('mood', '${mood.id}')"
                                        class="p-4 rounded-xl border-2 transition-all hover-scale ${state.formData.mood === mood.id ? 'brand-border bg-amber-50' : 'border-gray-200 hover:border-gray-300'} ${mood.color}"
                                    >
                                        <div class="text-3xl mb-2">${mood.icon}</div>
                                        <div class="font-medium text-gray-900 text-sm">${mood.label}</div>
                                    </button>
                                `).join('')}
                            </div>
                        </div>

                        <button
                            onclick="handleGenerate()"
                            ${!isFormValid ? 'disabled' : ''}
                            class="w-full py-5 rounded-xl font-bold text-white text-lg shadow-lg hover:shadow-xl transition-all ${!isFormValid ? 'opacity-50 cursor-not-allowed' : ''} brand-color flex items-center justify-center gap-2"
                        >
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
                            AIã«æœ€é©ãªæ—…å…ˆã‚’ææ¡ˆã—ã¦ã‚‚ã‚‰ã†
                        </button>
                    </div>

                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="text-center p-6">
                            <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center brand-bg-light">
                                <svg class="w-6 h-6 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-gray-900 mb-2">SNSãƒ»å£ã‚³ãƒŸåˆ†æ</h3>
                            <p class="text-sm text-gray-600">æœ€æ–°ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã¨å®Ÿéš›ã®è©•ä¾¡ã‚’AIãŒåˆ†æ</p>
                        </div>
                        <div class="text-center p-6">
                            <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center brand-bg-light">
                                <svg class="w-6 h-6 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-gray-900 mb-2">å­£ç¯€ã«å¿œã˜ãŸææ¡ˆ</h3>
                            <p class="text-sm text-gray-600">æ—…è¡Œæ™‚æœŸã«æœ€é©ãªã‚¹ãƒãƒƒãƒˆã‚’å³é¸</p>
                        </div>
                        <div class="text-center p-6">
                            <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center brand-bg-light">
                                <svg class="w-6 h-6 brand-text" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-gray-900 mb-2">æ°—åˆ†ãƒãƒƒãƒãƒ³ã‚°</h3>
                            <p class="text-sm text-gray-600">ã‚ãªãŸã®æ°—åˆ†ã«ã´ã£ãŸã‚Šã®æ—…å…ˆã‚’ç™ºè¦‹</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderLoadingPage() {
            return `
                <div class="min-h-screen flex items-center justify-center">
                    <div class="text-center">
                        <div class="w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center animate-pulse brand-color">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">AIãŒæ—…å…ˆã‚’åˆ†æä¸­...</h2>
                        <p class="text-gray-600">SNSãƒ»å£ã‚³ãƒŸãƒ»å­£ç¯€ãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ã¦ã„ã¾ã™</p>
                    </div>
                </div>
            `;
        }

        function renderResultPage() {
            const currentRec = recommendations[state.formData.mood] || recommendations.relax;
            const distance = calculateDistance(state.formData.location)[currentRec.destination];
            const travelTime = Math.round(distance / 60);

            return `
                <header class="bg-white shadow-sm">
                    <div class="max-w-5xl mx-auto px-6 py-6">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 rounded-full flex items-center justify-center brand-color">
                                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                    </svg>
                                </div>
                                <div>
                                    <h1 class="text-2xl font-bold text-gray-900">TripMoods</h1>
                                </div>
                            </div>
                            <button
                                onclick="resetApp()"
                                class="px-6 py-2 rounded-lg font-medium text-white brand-color"
                            >
                                åˆ¥ã®æ—…å…ˆã‚’æ¢ã™
                            </button>
                        </div>
                    </div>
                </header>

                <div class="max-w-5xl mx-auto px-6 py-12">
                    <div class="text-center mb-8">
                        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full mb-4 brand-bg-light">
                            <svg class="w-4 h-4 brand-text" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
